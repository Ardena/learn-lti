<form action="<%= @consumer.launch_url %>" id="ltiLaunchForm" method="post" encType="application/x-www-form-urlencoded">
  <% @launch_data.each_pair do |key, val| %>
    <% if val != "_blank_" %>
      <input type="hidden" name="<%= key %>" value="<%= val %>"/>
    <% end %>
  <% end %>
  <button type="submit">Launch the tool</button>
</form>
<script>
  document.getElementById("ltiLaunchForm").submit();
</script>